<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÉ Randomiz√°l√≥ Boszork√°nykonyha (Tan√°ri Seg√©d)</title>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Cabin:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* √Åltal√°nos ≈ëszi √©s Halloween st√≠lusok */
        body { 
            font-family: 'Cabin', sans-serif; 
            margin: 0; 
            padding: 40px 0;
            background-color: #36454F; /* S√∂t√©t, √©jszakai h√°tt√©r */
            color: #F5DEB3; /* Halv√°nys√°rga (van√≠lia) sz√∂veg */
            text-align: center;
        }

        .kontener {
            width: 90%;
            max-width: 700px;
            margin: 0 auto;
            padding: 30px;
            background-color: #2e2e2e; /* S√∂t√©tebb kont√©ner h√°tt√©r */
            border: 4px solid #FF8C00; /* S√∂t√©t narancss√°rga keret */
            border-radius: 15px;
            box-shadow: 0 0  25px rgba(255, 140, 0, 0.5); /* Vil√°g√≠t√≥ hat√°s */
        }

        h1 {
            font-family: 'Creepster', cursive; 
            color: #FF4500; /* √âl√©nk narancs c√≠m */
            font-size: 3em;
            margin-bottom: 20px;
        }

        /* Bevitel √©s vez√©rl≈ëk */
        textarea { 
            width: 95%; 
            height: 120px; 
            margin-bottom: 15px; 
            padding: 10px; 
            border: 2px solid #FF8C00; 
            border-radius: 8px;
            background-color: #1a1a1a; 
            color: #F5DEB3;
            resize: vertical;
        }

        button, input[type="number"] {
            padding: 10px 18px; 
            margin: 5px 5px 5px 0; 
            cursor: pointer; 
            background-color: #FF4500; /* √âl√©nk narancs gomb h√°tt√©r */
            color: white; 
            border: none; 
            border-radius: 5px; 
            font-weight: bold;
            transition: background-color 0.2s, transform 0.1s;
        }

        button:hover { 
            background-color: #FF8C00; /* S√∂t√©tebb narancs hover */
            transform: translateY(-2px);
        }

        input[type="number"] { 
            width: 40px; 
            background-color: #1a1a1a;
            color: #F5DEB3;
            text-align: center;
        }

        /* Eredm√©ny szekci√≥ */
        #eredmenyek { 
            margin-top: 25px; 
            border: 2px dashed #FF4500; /* T√∂r√∂tt/szaggatott keret */
            padding: 20px; 
            background-color: #3a3a3a; 
            border-radius: 10px; 
            text-align: left;
        }

        #eredmenyek h3 {
            color: #008000; /* Z√∂ld kiemel√©s */
            font-family: 'Creepster', cursive;
            border-bottom: 1px solid #FF8C00;
            padding-bottom: 5px;
        }

        .csoport { 
            margin-bottom: 15px; 
            padding: 12px; 
            border-left: 5px solid #008000; /* Z√∂ld s√°v a csoportokn√°l */
            background-color: #4a4a4a; 
            border-radius: 5px; 
        }

        .csoport h4 { 
            margin-top: 0; 
            color: #008000; 
        }

        ol, ul {
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 4px;
        }
        
        hr { 
            border: 0; 
            height: 1px; 
            background-color: #FF8C00; 
            margin: 25px 0; 
        }
    </style>
</head>
<body>

    <div class="kontener">
        <h1>üéÉ Randomiz√°l√≥ Boszork√°nykonyha</h1>

        <p>A "Di√°klelkek" (nevek) hozz√°ad√°sa. Minden nevet **√∫j sorba**!</p>
        <textarea id="diakNevek" placeholder="P√©lda:
  A K√≠s√©rtet
  A M√∫mia
  A V√°mp√≠r
  ..."></textarea>
        <button onclick="diakokBeolvasasa()">üß™ Nevek Bet√∂lt√©se / F≈ëzet K√©sz√≠t√©se</button>
        
        <hr>

        <div id="funkciok" style="display: none;">
            <h2>M√°gikus Funkci√≥k</h2>
            
            <button onclick="randomSorrend()">‚ú® Sorrend Var√°zslat (Kever√©s)</button>
            
            <button onclick="randomDiakKivalasztasa()">ü¶¥ Random √Åldozat Kiv√°laszt√°sa</button>
            
            <div style="margin-top: 15px;">
                <label for="csoportletszam">Csoportm√©ret (F≈ë/Csoport):</label>
                <input type="number" id="csoportletszam" min="1" value="4">
                <button onclick="csoportokAlakitasa()">‚öóÔ∏è Csoport K√©sz√≠t√©se</button>
            </div>
        </div>
        
        <hr>
        
        <h2>Eredm√©nyek Asztala</h2>
        <div id="eredmenyek">
            <p>T√∂ltse be a "Di√°klelkeket" (neveket) a Var√°zslatok haszn√°lat√°hoz!</p>
        </div>
    </div>

    <script>
        let diakok = [];

        function diakokBeolvasasa() {
            const szoveg = document.getElementById('diakNevek').value;
            diakok = szoveg.split('\n').map(nev => nev.trim()).filter(nev => nev.length > 0);
            
            const eredmenyDiv = document.getElementById('eredmenyek');
            const funkciokDiv = document.getElementById('funkciok');

            if (diakok.length > 0) {
                eredmenyDiv.innerHTML = `<p><strong>Sikeresen bet√∂ltve ${diakok.length} "L√©lek" a f≈ëzetbe!</strong></p>`;
                funkciokDiv.style.display = 'block';
            } else {
                eredmenyDiv.innerHTML = `<p>K√©rem, adja meg a di√°kneveket.</p>`;
                funkciokDiv.style.display = 'none';
            }
        }

        // Fisher-Yates (Knuth) shuffle algoritmus
        function keveres(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [
                    array[randomIndex], array[currentIndex]
                ];
            }
            return array;
        }

        // 1. Di√°kok random sorrendbe t√©tele
        function randomSorrend() {
            if (diakok.length === 0) return;
            
            const kevertDiakok = keveres([...diakok]); 
            
            const eredmenyDiv = document.getElementById('eredmenyek');
            eredmenyDiv.innerHTML = `<h3>‚ú® Sorrend Var√°zslat Eredm√©nye</h3>
                                     <ol>
                                         ${kevertDiakok.map(nev => `<li>${nev}</li>`).join('')}
                                     </ol>`;
        }

        // 2. Random di√°k kiv√°laszt√°sa
        function randomDiakKivalasztasa() {
            if (diakok.length === 0) return;
            
            const randomIndex = Math.floor(Math.random() * diakok.length);
            const randomNev = diakok[randomIndex];
            
            const eredmenyDiv = document.getElementById('eredmenyek');
            eredmenyDiv.innerHTML = `<h3>ü¶¥ Random √Åldozat Kiv√°laszt√°sa</h3>
                                     <p>A sors √°ltal kiv√°lasztott: <strong>${randomNev}</strong> üëª</p>`;
        }

        // 3. Csoportok alak√≠t√°sa
        function csoportokAlakitasa() {
            if (diakok.length === 0) return;
            
            const letszamInput = document.getElementById('csoportletszam');
            const csoportLetszam = parseInt(letszamInput.value, 10);

            if (isNaN(csoportLetszam) || csoportLetszam < 1) {
                alert("K√©rem √©rv√©nyes csoportl√©tsz√°mot adjon meg (min. 1).");
                return;
            }

            const kevertDiakok = keveres([...diakok]); 
            
            let csoportok = [];
            for (let i = 0; i < kevertDiakok.length; i += csoportLetszam) {
                const csoport = kevertDiakok.slice(i, i + csoportLetszam);
                csoportok.push(csoport);
            }

            const eredmenyDiv = document.getElementById('eredmenyek');
            eredmenyDiv.innerHTML = `<h3>‚öóÔ∏è Csoport K√©sz√≠t√©se (${csoportLetszam} f≈ës)</h3>`; 

            csoportok.forEach((csoport, index) => {
                eredmenyDiv.innerHTML += `
                    <div class="csoport">
                        <h4>Csoport ${index + 1} (${csoport.length} f≈ë)</h4>
                        <ul>
                            ${csoport.map(nev => `<li>${nev}</li>`).join('')}
                        </ul>
                    </div>
                `;
            });
        }
    </script>

</body>
</html>